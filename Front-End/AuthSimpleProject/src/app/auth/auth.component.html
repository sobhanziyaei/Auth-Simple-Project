<div class="auth-container">
  <div class="background-animation">
    <div class="bubble bubble-1"></div>
    <div class="bubble bubble-2"></div>
    <div class="bubble bubble-3"></div>
    <div class="bubble bubble-4"></div>
    <div class="bubble bubble-5"></div>
  </div>

  <div class="auth-card" [class.flip]="!isLoginMode">
    <div class="card-inner">
      <!-- Login Form -->
      <div class="card-face card-front" *ngIf="isLoginMode">
        <div class="card-header">
          <h1>خوش آمدید</h1>
          <p>لطفاً وارد حساب کاربری خود شوید</p>
        </div>

        <form (ngSubmit)="onLogin()" class="auth-form">
          <div class="form-group">
            <label for="login-email">
              <i class="icon">📧</i>
              ایمیل
            </label>
            <input
              type="email"
              id="login-email"
              [(ngModel)]="loginData.email"
              name="email"
              placeholder="example@email.com"
              required
            />
          </div>

          <div class="form-group">
            <label for="login-password">
              <i class="icon">🔒</i>
              رمز عبور
            </label>
            <input
              type="password"
              id="login-password"
              [(ngModel)]="loginData.password"
              name="password"
              placeholder="••••••••"
              required
            />
          </div>

          <div class="form-footer">
            <a href="#" class="forgot-password">رمز عبور را فراموش کرده‌اید؟</a>
          </div>

          <button type="submit" class="btn btn-primary" [disabled]="isLoading">
            <span *ngIf="!isLoading">ورود</span>
            <span *ngIf="isLoading" class="spinner"></span>
          </button>

          <div class="alert alert-error" *ngIf="errorMessage">
            {{ errorMessage }}
          </div>

          <div class="alert alert-success" *ngIf="successMessage">
            {{ successMessage }}
          </div>

          <div class="switch-mode">
            <p>حساب کاربری ندارید؟</p>
            <button type="button" class="btn-link" (click)="toggleMode()">
              ثبت نام کنید
            </button>
          </div>
        </form>
      </div>

      <!-- Register Form -->
      <div class="card-face card-back" *ngIf="!isLoginMode">
        <div class="card-header">
          <h1>ثبت نام</h1>
          <p>حساب کاربری جدید ایجاد کنید</p>
        </div>

        <form (ngSubmit)="onRegister()" class="auth-form">
          <div class="form-group">
            <label for="register-name">
              <i class="icon">👤</i>
              نام و نام خانوادگی
            </label>
            <input
              type="text"
              id="register-name"
              [(ngModel)]="registerData.fullName"
              name="fullName"
              placeholder="نام کامل خود را وارد کنید"
              required
            />
          </div>

          <div class="form-group">
            <label for="register-email">
              <i class="icon">📧</i>
              ایمیل
            </label>
            <input
              type="email"
              id="register-email"
              [(ngModel)]="registerData.email"
              name="email"
              placeholder="example@email.com"
              required
            />
          </div>

          <div class="form-group">
            <label for="register-password">
              <i class="icon">🔒</i>
              رمز عبور
            </label>
            <input
              type="password"
              id="register-password"
              [(ngModel)]="registerData.password"
              name="password"
              placeholder="••••••••"
              required
            />
          </div>

          <div class="form-group">
            <label for="register-confirm">
              <i class="icon">🔐</i>
              تکرار رمز عبور
            </label>
            <input
              type="password"
              id="register-confirm"
              [(ngModel)]="registerData.confirmPassword"
              name="confirmPassword"
              placeholder="••••••••"
              required
            />
          </div>

          <button type="submit" class="btn btn-primary" [disabled]="isLoading">
            <span *ngIf="!isLoading">ثبت نام</span>
            <span *ngIf="isLoading" class="spinner"></span>
          </button>

          <div class="alert alert-error" *ngIf="errorMessage">
            {{ errorMessage }}
          </div>

          <div class="alert alert-success" *ngIf="successMessage">
            {{ successMessage }}
          </div>

          <div class="switch-mode">
            <p>قبلاً ثبت نام کرده‌اید؟</p>
            <button type="button" class="btn-link" (click)="toggleMode()">
              وارد شوید
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
